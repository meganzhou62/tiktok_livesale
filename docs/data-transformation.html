<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data transformation | Tiktok Livesale Edav Project</title>
  <meta name="description" content="Chapter 3 Data transformation | Tiktok Livesale Edav Project" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data transformation | Tiktok Livesale Edav Project" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data transformation | Tiktok Livesale Edav Project" />
  
  
  

<meta name="author" content="Jessie Wang, Jingyuan Chen, Megan Zhou" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-sources.html"/>
<link rel="next" href="missing-values.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Tiktok Livesale Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#do-celebrities-have-an-advantage-over-kols-in-live-streaming-sales"><i class="fa fa-check"></i><b>5.1</b> Do celebrities have an advantage over KOLs in live streaming sales?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="results.html"><a href="results.html#overview-of-the-sale-revenue-distribution"><i class="fa fa-check"></i><b>5.1.1</b> Overview of the sale revenue distribution</a></li>
<li class="chapter" data-level="5.1.2" data-path="results.html"><a href="results.html#total-number-of-days-steaming-kols-host-more-streaming-than-celebrities"><i class="fa fa-check"></i><b>5.1.2</b> Total number of days steaming: KOLs host more streaming than celebrities</a></li>
<li class="chapter" data-level="5.1.3" data-path="results.html"><a href="results.html#relationship-between-days-of-livestream-and-revenue"><i class="fa fa-check"></i><b>5.1.3</b> Relationship between days of livestream and revenue</a></li>
<li class="chapter" data-level="5.1.4" data-path="results.html"><a href="results.html#overview-of-the-product-mix"><i class="fa fa-check"></i><b>5.1.4</b> Overview of the product mix</a></li>
<li class="chapter" data-level="5.1.5" data-path="results.html"><a href="results.html#insights-and-findings"><i class="fa fa-check"></i><b>5.1.5</b> Insights and findings</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#relationship-between-short-video-feedback-and-live-streaming-sales"><i class="fa fa-check"></i><b>5.2</b> Relationship between short video feedback and live streaming sales</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="results.html"><a href="results.html#relationship-between-the-number-of-like-comments-and-repost-of-the-videos-and-the-daily-revenues-of-live-streams"><i class="fa fa-check"></i><b>5.2.1</b> Relationship between the number of like, comments, and repost of the videos and the daily revenues of live streams</a></li>
<li class="chapter" data-level="5.2.2" data-path="results.html"><a href="results.html#relationship-of-average-number-of-likes-and-comments-versus-some-other-statistic-of-each-session-of-live-streams"><i class="fa fa-check"></i><b>5.2.2</b> Relationship of average number of likes and comments versus some other statistic of each session of live streams</a></li>
<li class="chapter" data-level="5.2.3" data-path="results.html"><a href="results.html#insights-and-findings-1"><i class="fa fa-check"></i><b>5.2.3</b> Insights and findings</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#best-time-for-a-live-streaming-sale"><i class="fa fa-check"></i><b>5.3</b> Best time for a live streaming sale</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="results.html"><a href="results.html#difference-between-weekdays-and-weenkends"><i class="fa fa-check"></i><b>5.3.1</b> Difference between Weekdays and weenkends</a></li>
<li class="chapter" data-level="5.3.2" data-path="results.html"><a href="results.html#starting-time"><i class="fa fa-check"></i><b>5.3.2</b> Starting time</a></li>
<li class="chapter" data-level="5.3.3" data-path="results.html"><a href="results.html#the-relationship-between-average-stay-length-and-sales-amount"><i class="fa fa-check"></i><b>5.3.3</b> The relationship between average stay length and sales amount</a></li>
<li class="chapter" data-level="5.3.4" data-path="results.html"><a href="results.html#insights-and-findings-2"><i class="fa fa-check"></i><b>5.3.4</b> Insights and findings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tiktok Livesale Edav Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-transformation" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data transformation</h1>
<p>After we gathered the data, we started our data cleaning to make it more convenient for us to work with the data in R. The first thing we did was to use Python to convert the time variables. The script in Python can be found in our github folder at <a href="https://github.com/meganzhou62/tiktok_livesale/blob/main/processed%20data/assignmentand%20data/data%20processing/transfer%20duration%20to%20seconds.ipynb" class="uri">https://github.com/meganzhou62/tiktok_livesale/blob/main/processed%20data/assignmentand%20data/data%20processing/transfer%20duration%20to%20seconds.ipynb</a>. This was necessary because we had time data in digit plus time unit in Chinese, and they were in different units including hour, minute and second. Thus, we matched the Chinese character with different unit of time and converted all time variable into the number of seconds. We did the conversion to the duration of the live stream, the average duration per viewer in the Data_Livestream_general.xlsx and the video duration in Data_Short_Videos.xlsx.</p>
<p>We also changed the Host_category variable from F/T to K/C, as in K standing for KOL and C standing for celebrities. This change could make our later visualization clearer. For the category of items, we had a look at the over twenties different categories and eventually combined them into seven bigger categories for better analysis and visualization. To further organized our data, we removed the Chinese title of each session of live stream and assign an unique id to each session.</p>
<p>Finally, we also did some data transformation in R. This includes changing char variable to numeric, changing Name variable into factor and reordering the Name variable by the total revenue each host generated.</p>
<p>Besides the transformation mentioned above, for our interactive component, we also processed our data in Python (code at <a href="https://github.com/meganzhou62/tiktok_livesale/blob/main/processed%20data/Make%20cumulative%20data.ipynb" class="uri">https://github.com/meganzhou62/tiktok_livesale/blob/main/processed%20data/Make%20cumulative%20data.ipynb</a>). We grouped the revenue by each host and date, and got the cumulative sum by each host. We also printed it out in a specific way so that it fits into the js data format.</p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-sources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-values.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/meganzhou62/tiktok_livesale/edit/main/03-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/meganzhou62/tiktok_livesale/blob/main/03-cleaning.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
