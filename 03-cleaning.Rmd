# Data transformation
After we gathered the data, we started our data cleaning to make it more convenient for us to work with the data in R. The first thing we did is that we user Python to convert the time variable. The script in Python can be found in our github folder at https://github.com/meganzhou62/tiktok_livesale/blob/main/assignmentand%20data/data%20processing/transfer%20duration%20to%20seconds.ipynb. This was necessary because we had time data in digit plus time unit in English format, and it is in different units including hour, minute and second. Thus, we matched the English character with different unit of time and converted all time variable into the number of seconds. We did the conversion to the duration of the live stream, the average duration per viewer in the Data_Livestream_general.xlsx and the video duration in Data_Short_Videos.xlsx.

We also changed the Host_category variable from F/T to K/C, as in K standing for KOL and C standing for celebrities. This change could make our later visualization clearer. For the category of items, we had a look at the over twenties different categories and eventually combined them into nine general categories. To further organized our data, we removed the Chinese title of each session of live stream and assign an unique id to each session. 

Finally, we also did some final data transformation in R. This includes changing char variable to numeric, changing Name variable into factor and reordering the Name variable by the total revenue each host generated. 

Besides the transformation mentioned above, for our interative component, we also processed our data in Python (code at https://github.com/meganzhou62/tiktok_livesale/blob/main/processed%20data/Make%20cumulative%20data.ipynb). We grouped the revenue by each host and date, and got the cumulative sum by each host. We also printed it out in a specfic way so that it fits into the js data format. 